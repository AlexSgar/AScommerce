<!DOCTYPE html>
<html xmlns:h="http://java.sun.com/jsf/html"
 	  xmlns:f="http://java.sun.com/jsf/core"
 	  xmlns:c="http://java.sun.com/jsp/jstl/core">
<h:head>
<title> Ordini </title>
</h:head>
<h:body>
		<h1>Ecco gli ordini chiusi</h1>
		<h:form>
			<table>
				<c:forEach var="order" items="#{orderController.getAllOrdersClosed()}">
					<tr>
						<th>Id Ordine</th><th>Data Creazione</th> <th>Nome Cliente</th> <th>Cognome Cliente</th>
					</tr>
					<tr>
						<td>${order.id}</td>
						<td><h:commandLink value="#{order.creationTime}"
								action="#{orderController.findOrderToEvade}">
								<f:param name="id" value="#{order.id}"></f:param>
							</h:commandLink></td>
						<td><h:commandLink value="#{order.customer.name}" action="#{orderController.retrieveCustomerInfo}">
							<f:param name="id" value="#{order.id}"></f:param>
							</h:commandLink></td>
						<td>${order.customer.surname}</td>
					</tr>
					
					

				</c:forEach>
			</table>

		</h:form>
		<br />
		<h:form>
			<h:commandButton value="Torna alla home" action="#{orderController.cancelOrder}"> </h:commandButton>
		</h:form>
</h:body>
</html>